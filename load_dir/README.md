# load_dir

Use this directory to make predictions on audio, text, image, video, and/or CSV files. 

Specifically, just drag and drop sample data in here and predictions will be made based on the models in the ./models directory.

## Getting started 

First, you need to put some files in the ./load_dir. I put the test files from the ./test directory into the load_dir here for demostration purposes. This is the output from the terminal (of files in the ./load_dir.

```
Jims-MBP:allie jimschwoebel$ cd load_dir
Jims-MBP:load_dir jimschwoebel$ ls
README.md	test_csv.csv	test_text.txt
test_audio.wav	test_image.png	test_video.mp4
```

Now you can apply all models in the directory according to sample types (audio_models, text_models, image_models, video_models, csv_models) by running the load_models.py command in this directory. 

```
cd ..
cd models 
python3 load_models.py
```

All the files will then be featurized and modeled. The model schema is updated in corresponding .JSON files (e.g. 2_audio.wav --> 2_audio.json).

![](https://github.com/jim-schwoebel/allie/blob/master/training/helpers/load_1.png)

The .JSON schema looks something like this (e.g. '2_audio.json'):

```
{"sampletype": "audio", "transcripts": {"audio": {"pocketsphinx": "what"}, "text": {}, "image": {}, "video": {}, "csv": {}}, "features": {"audio": {"standard_features": {"features": [-137.36549525325455, 55.26968072473074, -556.2197412132433, -31.180856009146904, 126.18672906316468, 34.42930296251801, 0.0, 187.4906034504457, -16.584044210016447, 18.16204005654269, -66.82364868083266, 33.93919448768388, 19.18757918397428, 10.914705090072422, -7.126432795874874, 47.5592577411367, 2.6312618574584983, 9.03896630327998, -21.79332333707042, 32.771668913970316, 8.409001142379449, 9.47258716174425, -18.343937427780364, 35.57955946276798, -0.9282451179950999, 8.237633614558828, -20.01198464398328, 26.15316511082837, 2.0718443011708034, 12.015412313464394, -29.163085392030435, 49.058855582753495, -1.4472135424657482, 6.999593523373258, -19.695413827967638, 18.384782796899287, 3.9394587828227996, 8.329436855236127, -17.44496782746194, 25.000724646152122, -0.581459368123304, 7.63057475326853, -18.88500952648424, 23.55474073648235, 3.6242528368630422, 8.13087765832394, -18.419822595133112, 25.32509018961942, 2.55676381167956, 9.812632667168527, -18.24183724875812, 34.40947084171465, 0.9178843825460418, 8.399531067713994, -7.0878283871774705, 65.02217622973122, 0.23591909211064407, 3.4255346671743294, -16.88309310553207, 8.627570218739612, 0.014967759749542195, 2.267343065223591, -4.378359069111679, 10.461336314170332, -0.02776420241283953, 1.3469578920784389, -4.242279767745764, 4.067121057887625, 0.013380876995170383, 1.229084297381998, -2.882177019440797, 4.136017251750883, -0.048287022810693844, 1.2330584761319756, -3.3543941464844282, 3.3169563867925014, -0.010453902200335416, 1.2811427001949793, -3.6941229466432213, 3.663153628180203, 0.008663453455995354, 1.4211110607084587, -3.6726006107917524, 7.0840759499605825, 0.0021683659158407502, 1.0132101505993518, -3.123194532159041, 3.0033216681261083, 0.02362507245030956, 1.1550232001940723, -3.478474753610202, 3.3210294694873395, 0.00046150862734313974, 1.1028827239196288, -3.2797647967350367, 2.8981565838984977, -0.06249402400276093, 1.0581216431478542, -2.8494738029619184, 3.33201927145889, -0.014002334967626073, 1.1738528352377555, -3.478438935932894, 3.588086673353022, -157.25493405776447, 8.157503618848038, -171.00338942006155, -142.6783317067181, 144.42266030393108, 7.342039510411984, 126.24060798001442, 163.1687043019248, -4.92040475819589, 5.033959690926024, -12.526061188652113, 9.516279371953036, 12.361035127848803, 4.668605254583542, 4.222632479396429, 21.879760520163433, -5.67103722698341, 4.067094693105968, -13.7145778855982, 2.220182285879309, 0.3766477228472269, 4.564937387188177, -8.669111165776519, 8.635121841378302, -1.4169853134290766, 5.9665774895785155, -12.82902728059857, 9.50483112163122, -4.319897045160447, 4.826898093071601, -14.850214887243137, 5.464580283472815, 0.6349279921560768, 5.457052430741471, -7.9607442607571794, 13.276968437868334, -6.175997742594577, 6.939213321722837, -18.866939621380094, 8.523666600061057, 0.17680114650009157, 9.062312263167609, -18.795106581347326, 16.455037977925933, -3.5746554144576237, 4.669294205738467, -11.437179590063849, 7.174273925389921, 1.534079098375274, 5.882214757861059, -10.644109185738376, 11.669641220839504, 0.5878593898560496, 1.490663090251006, -2.2400897958706887, 2.1962556967820337, -0.8452576239370003, 0.7114514787027278, -1.876390173503562, 0.44944123758681587, -0.22952155948001635, 0.7757489773570063, -1.4928792802529558, 0.6232337054367331, -0.17732731709471086, 0.8018068105229847, -1.4553232684242026, 0.860274101369383, 0.007790965763883567, 0.4615770882826566, -1.0213993003461825, 0.6240662196548451, 0.16471958944200155, 0.4902271777383526, -0.47069009875489237, 1.3364741705752865, -0.36753432141279496, 1.274283350706454, -2.140583315555893, 1.5168759696345717, 0.2725602730142341, 0.8183574113453302, -1.4588255103901955, 1.39396524051496, -0.09537256396546254, 0.967233684369179, -1.9653053469501167, 1.5876694426860527, 0.5132978821764079, 1.5391327265945844, -2.332612246823372, 2.449086268056413, -1.2125012025360582, 0.8862001594626685, -2.1663471690079104, 0.24547279580953218, 0.3421262404503838, 0.6969486830556069, -0.5689750919588391, 2.030642522795758, -0.8487058478705242, 1.1699300327332154, -2.4481878436595643, 1.47183761567937], "labels": ["mfcc_1_mean_20ms", "mfcc_1_std_20ms", "mfcc_1_min_20ms", "mfcc_1_max_20ms", "mfcc_2_mean_20ms", "mfcc_2_std_20ms", "mfcc_2_min_20ms", "mfcc_2_max_20ms", "mfcc_3_mean_20ms", "mfcc_3_std_20ms", "mfcc_3_min_20ms", "mfcc_3_max_20ms", "mfcc_4_mean_20ms", "mfcc_4_std_20ms", "mfcc_4_min_20ms", "mfcc_4_max_20ms", "mfcc_5_mean_20ms", "mfcc_5_std_20ms", "mfcc_5_min_20ms", "mfcc_5_max_20ms", "mfcc_6_mean_20ms", "mfcc_6_std_20ms", "mfcc_6_min_20ms", "mfcc_6_max_20ms", "mfcc_7_mean_20ms", "mfcc_7_std_20ms", "mfcc_7_min_20ms", "mfcc_7_max_20ms", "mfcc_8_mean_20ms", "mfcc_8_std_20ms", "mfcc_8_min_20ms", "mfcc_8_max_20ms", "mfcc_9_mean_20ms", "mfcc_9_std_20ms", "mfcc_9_min_20ms", "mfcc_9_max_20ms", "mfcc_10_mean_20ms", "mfcc_10_std_20ms", "mfcc_10_min_20ms", "mfcc_10_max_20ms", "mfcc_11_mean_20ms", "mfcc_11_std_20ms", "mfcc_11_min_20ms", "mfcc_11_max_20ms", "mfcc_12_mean_20ms", "mfcc_12_std_20ms", "mfcc_12_min_20ms", "mfcc_12_max_20ms", "mfcc_13_mean_20ms", "mfcc_13_std_20ms", "mfcc_13_min_20ms", "mfcc_13_max_20ms", "mfcc_1_delta_mean_20ms", "mfcc_1_delta_std_20ms", "mfcc_1_delta_min_20ms", "mfcc_1_delta_max_20ms", "mfcc_2_delta_mean_20ms", "mfcc_2_delta_std_20ms", "mfcc_2_delta_min_20ms", "mfcc_2_delta_max_20ms", "mfcc_3_delta_mean_20ms", "mfcc_3_delta_std_20ms", "mfcc_3_delta_min_20ms", "mfcc_3_delta_max_20ms", "mfcc_4_delta_mean_20ms", "mfcc_4_delta_std_20ms", "mfcc_4_delta_min_20ms", "mfcc_4_delta_max_20ms", "mfcc_5_delta_mean_20ms", "mfcc_5_delta_std_20ms", "mfcc_5_delta_min_20ms", "mfcc_5_delta_max_20ms", "mfcc_6_delta_mean_20ms", "mfcc_6_delta_std_20ms", "mfcc_6_delta_min_20ms", "mfcc_6_delta_max_20ms", "mfcc_7_delta_mean_20ms", "mfcc_7_delta_std_20ms", "mfcc_7_delta_min_20ms", "mfcc_7_delta_max_20ms", "mfcc_8_delta_mean_20ms", "mfcc_8_delta_std_20ms", "mfcc_8_delta_min_20ms", "mfcc_8_delta_max_20ms", "mfcc_9_delta_mean_20ms", "mfcc_9_delta_std_20ms", "mfcc_9_delta_min_20ms", "mfcc_9_delta_max_20ms", "mfcc_10_delta_mean_20ms", "mfcc_10_delta_std_20ms", "mfcc_10_delta_min_20ms", "mfcc_10_delta_max_20ms", "mfcc_11_delta_mean_20ms", "mfcc_11_delta_std_20ms", "mfcc_11_delta_min_20ms", "mfcc_11_delta_max_20ms", "mfcc_12_delta_mean_20ms", "mfcc_12_delta_std_20ms", "mfcc_12_delta_min_20ms", "mfcc_12_delta_max_20ms", "mfcc_13_delta_mean_20ms", "mfcc_13_delta_std_20ms", "mfcc_13_delta_min_20ms", "mfcc_13_delta_max_20ms", "mfcc_1_mean_500ms", "mfcc_1_std_500ms", "mfcc_1_min_500ms", "mfcc_1_max_500ms", "mfcc_2_mean_500ms", "mfcc_2_std_500ms", "mfcc_2_min_500ms", "mfcc_2_max_500ms", "mfcc_3_mean_500ms", "mfcc_3_std_500ms", "mfcc_3_min_500ms", "mfcc_3_max_500ms", "mfcc_4_mean_500ms", "mfcc_4_std_500ms", "mfcc_4_min_500ms", "mfcc_4_max_500ms", "mfcc_5_mean_500ms", "mfcc_5_std_500ms", "mfcc_5_min_500ms", "mfcc_5_max_500ms", "mfcc_6_mean_500ms", "mfcc_6_std_500ms", "mfcc_6_min_500ms", "mfcc_6_max_500ms", "mfcc_7_mean_500ms", "mfcc_7_std_500ms", "mfcc_7_min_500ms", "mfcc_7_max_500ms", "mfcc_8_mean_500ms", "mfcc_8_std_500ms", "mfcc_8_min_500ms", "mfcc_8_max_500ms", "mfcc_9_mean_500ms", "mfcc_9_std_500ms", "mfcc_9_min_500ms", "mfcc_9_max_500ms", "mfcc_10_mean_500ms", "mfcc_10_std_500ms", "mfcc_10_min_500ms", "mfcc_10_max_500ms", "mfcc_11_mean_500ms", "mfcc_11_std_500ms", "mfcc_11_min_500ms", "mfcc_11_max_500ms", "mfcc_12_mean_500ms", "mfcc_12_std_500ms", "mfcc_12_min_500ms", "mfcc_12_max_500ms", "mfcc_13_mean_500ms", "mfcc_13_std_500ms", "mfcc_13_min_500ms", "mfcc_13_max_500ms", "mfcc_1_delta_mean_500ms", "mfcc_1_delta_std_500ms", "mfcc_1_delta_min_500ms", "mfcc_1_delta_max_500ms", "mfcc_2_delta_mean_500ms", "mfcc_2_delta_std_500ms", "mfcc_2_delta_min_500ms", "mfcc_2_delta_max_500ms", "mfcc_3_delta_mean_500ms", "mfcc_3_delta_std_500ms", "mfcc_3_delta_min_500ms", "mfcc_3_delta_max_500ms", "mfcc_4_delta_mean_500ms", "mfcc_4_delta_std_500ms", "mfcc_4_delta_min_500ms", "mfcc_4_delta_max_500ms", "mfcc_5_delta_mean_500ms", "mfcc_5_delta_std_500ms", "mfcc_5_delta_min_500ms", "mfcc_5_delta_max_500ms", "mfcc_6_delta_mean_500ms", "mfcc_6_delta_std_500ms", "mfcc_6_delta_min_500ms", "mfcc_6_delta_max_500ms", "mfcc_7_delta_mean_500ms", "mfcc_7_delta_std_500ms", "mfcc_7_delta_min_500ms", "mfcc_7_delta_max_500ms", "mfcc_8_delta_mean_500ms", "mfcc_8_delta_std_500ms", "mfcc_8_delta_min_500ms", "mfcc_8_delta_max_500ms", "mfcc_9_delta_mean_500ms", "mfcc_9_delta_std_500ms", "mfcc_9_delta_min_500ms", "mfcc_9_delta_max_500ms", "mfcc_10_delta_mean_500ms", "mfcc_10_delta_std_500ms", "mfcc_10_delta_min_500ms", "mfcc_10_delta_max_500ms", "mfcc_11_delta_mean_500ms", "mfcc_11_delta_std_500ms", "mfcc_11_delta_min_500ms", "mfcc_11_delta_max_500ms", "mfcc_12_delta_mean_500ms", "mfcc_12_delta_std_500ms", "mfcc_12_delta_min_500ms", "mfcc_12_delta_max_500ms", "mfcc_13_delta_mean_500ms", "mfcc_13_delta_std_500ms", "mfcc_13_delta_min_500ms", "mfcc_13_delta_max_500ms"]}}, "text": {}, "image": {}, "video": {}, "csv": {}}, "models": {"audio": {"two": {"sample type": "audio", "feature_set": "standard_features", "model name": "one_two_keras.h5", "accuracy": 0.4000000059604645, "model type": "keras_mlp"}}, "text": {}, "image": {}, "video": {}, "csv": {}}, "labels": ["load_dir"]}
```

## Supported file formats

Here are the supported file formats for the load directory. 

| File type | extension | recommended format | 
| ------------- |-------------| -------------| 
| audio file | .WAV, .MP3 | .WAV | 
| text file | .TXT | .TXT | 
| image file | .PNG, .JPG | .PNG | 
| video file | .MP4 | .MP4 | 
| CSV file | .CSV | .CSV | 
